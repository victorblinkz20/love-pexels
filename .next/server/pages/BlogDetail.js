"use strict";(()=>{var e={};e.id=463,e.ids=[220,463],e.modules={2617:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.r(s),a.d(s,{config:()=>f,default:()=>h,getServerSideProps:()=>p,getStaticPaths:()=>g,getStaticProps:()=>u,reportWebVitals:()=>j,routeModule:()=>_,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>v});var t=a(63885),l=a(80237),i=a(81413),c=a(58548),n=a.n(c),o=a(19380),d=a.n(o),m=a(57408),x=e([m]);m=(x.then?(await x)():x)[0];let h=(0,i.M)(m,"default"),u=(0,i.M)(m,"getStaticProps"),g=(0,i.M)(m,"getStaticPaths"),p=(0,i.M)(m,"getServerSideProps"),f=(0,i.M)(m,"config"),j=(0,i.M)(m,"reportWebVitals"),v=(0,i.M)(m,"unstable_getStaticProps"),b=(0,i.M)(m,"unstable_getStaticPaths"),N=(0,i.M)(m,"unstable_getStaticParams"),w=(0,i.M)(m,"unstable_getServerProps"),y=(0,i.M)(m,"unstable_getServerSideProps"),_=new t.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/BlogDetail",pathname:"/BlogDetail",bundlePath:"",filename:""},components:{App:d(),Document:n()},userland:m});r()}catch(e){r(e)}})},3980:(e,s,a)=>{a.d(s,{A:()=>r});let r=(0,a(56732).A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},8732:e=>{e.exports=require("react/jsx-runtime")},8938:e=>{e.exports=import("class-variance-authority")},9640:e=>{e.exports=import("@radix-ui/react-slot")},16941:(e,s,a)=>{a.d(s,{Z:()=>t});var r=a(51538);let t=async e=>{let s=new Date().toISOString().split("T")[0],{data:a,error:t}=await r.N.from("analytics").select("*").eq("blog_id",e).eq("date",s).single();if(t&&"PGRST116"!==t.code)return void console.error("Error fetching existing analytics:",t);if(a){let{error:e}=await r.N.from("analytics").update({page_views:(a.page_views||0)+1,unique_visitors:(a.unique_visitors||0)+1,avg_time_on_page:a.avg_time_on_page||0,bounce_rate:a.bounce_rate||0,geo_distribution:a.geo_distribution||{},referral_sources:a.referral_sources||{}}).eq("id",a.id);e&&console.error("Error updating analytics:",e)}else{let{error:a}=await r.N.from("analytics").insert([{blog_id:e,date:s,page_views:1,unique_visitors:1,avg_time_on_page:0,bounce_rate:0,geo_distribution:{},referral_sources:{}}]);a&&console.error("Error creating analytics:",a)}}},28462:e=>{e.exports=import("@tanstack/react-query")},30302:(e,s,a)=>{a.d(s,{A:()=>r});let r=(0,a(56732).A)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},33873:e=>{e.exports=require("path")},40361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},49067:(e,s,a)=>{a.d(s,{A:()=>r});let r=(0,a(56732).A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},50151:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.d(s,{A:()=>x});var t=a(8732);a(82015);var l=a(97323),i=a(31814),c=a(28462),n=a(56032),o=a(54822),d=a(92523),m=e([c,d]);[c,d]=m.then?(await m)():m;let x=({currentBlogId:e,categoryName:s})=>{console.log("RelatedArticles props:",{currentBlogId:e,categoryName:s});let{data:a,isLoading:r,error:m}=(0,c.useQuery)({queryKey:["relatedArticles",s],queryFn:async()=>{let a=await (0,n.gb)("published");console.log("All published blogs:",a);let r=a.filter(a=>{let r=!s||a.categories?.name===s,t=a.id!==e;return console.log("Blog filtering:",{blogId:a.id,blogCategory:a.categories?.name,targetCategory:s,isSameCategory:r,isNotCurrent:t}),r&&t}).slice(0,3);return console.log("Filtered related articles:",r),r}});return r?(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(d.E,{className:"w-20 h-20 rounded flex-shrink-0"}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)(d.E,{className:"h-4 w-3/4 mb-2"}),(0,t.jsx)(d.E,{className:"h-3 w-1/2"})]})]},e))}):m?(console.error("Error fetching related articles:",m),(0,t.jsx)("div",{className:"text-center py-4",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Error loading related articles."})})):a&&0!==a.length?(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,t.jsxs)(o.Link,{to:`/blog/${e.id}`,className:"flex items-start group hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded overflow-hidden flex-shrink-0",children:(0,t.jsx)("img",{src:e.image_url||"https://images.pexels.com/photos/5327580/pexels-photo-5327580.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,t.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-sm leading-tight group-hover:text-news-orange transition-colors line-clamp-2 mb-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-500 space-x-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(l.A,{size:12,className:"mr-1 flex-shrink-0"}),(0,t.jsx)("span",{className:"whitespace-nowrap",children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(i.A,{size:12,className:"mr-1 flex-shrink-0"}),(0,t.jsxs)("span",{className:"whitespace-nowrap",children:[e.views.toLocaleString()," views"]})]})]})]})]},e.id))}):(console.log("No related articles found"),(0,t.jsx)("div",{className:"text-center py-4",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No related articles available."})}))};r()}catch(e){r(e)}})},50802:e=>{e.exports=import("clsx")},54822:e=>{e.exports=require("react-router-dom")},57408:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.r(s),a.d(s,{default:()=>_});var t=a(8732),l=a(82015),i=a(54822),c=a(28462),n=a(56032),o=a(16941),d=a(22552),m=a(66247),x=a(92523),h=a(95657),u=a(68547),g=a(97323),p=a(31814),f=a(49067),j=a(3980),v=a(30302),b=a(75280),N=a(50151),w=e([c,d,x,h,u,b,N]);[c,d,x,h,u,b,N]=w.then?(await w)():w;let y=()=>(0,t.jsxs)("div",{children:[(0,t.jsx)(x.E,{className:"h-10 w-40 mb-2"}),(0,t.jsx)(x.E,{className:"h-12 w-full mb-4"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.E,{className:"h-10 w-10 rounded-full mr-3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x.E,{className:"h-5 w-32 mb-1"}),(0,t.jsx)(x.E,{className:"h-4 w-24"})]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.E,{className:"h-6 w-24 mr-2"}),(0,t.jsx)(x.E,{className:"h-6 w-20"})]})]}),(0,t.jsx)(x.E,{className:"h-[400px] w-full mb-10"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-8",children:[(0,t.jsx)(x.E,{className:"h-6 w-full mb-4"}),(0,t.jsx)(x.E,{className:"h-6 w-full mb-4"}),(0,t.jsx)(x.E,{className:"h-6 w-2/3 mb-8"}),(0,t.jsx)(x.E,{className:"h-6 w-full mb-4"}),(0,t.jsx)(x.E,{className:"h-6 w-full mb-4"}),(0,t.jsx)(x.E,{className:"h-6 w-5/6 mb-8"}),(0,t.jsx)(x.E,{className:"h-10 w-full mt-8"})]}),(0,t.jsx)("div",{className:"lg:col-span-4",children:(0,t.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,t.jsx)(x.E,{className:"h-8 w-40 mb-4"}),(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(x.E,{className:"w-20 h-20 flex-shrink-0"}),(0,t.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,t.jsx)(x.E,{className:"h-4 w-full mb-1"}),(0,t.jsx)(x.E,{className:"h-4 w-full mb-1"}),(0,t.jsx)(x.E,{className:"h-3 w-16"})]})]},e))})]})})]})]}),_=()=>{let{id:e}=(0,i.useParams)(),{data:s,isLoading:a,error:r}=(0,c.useQuery)({queryKey:["blog",e],queryFn:()=>e?(0,n.dZ)(e):Promise.reject("No ID provided"),enabled:!!e});(0,l.useEffect)(()=>{e&&((0,n.eD)(e).catch(e=>console.error("Error incrementing view count:",e)),(0,o.Z)(e).catch(e=>console.error("Error recording analytics:",e)))},[e]);let x=e=>{let a=window.location.href,r=s?.title||"Check out this blog post";switch(e){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(a)}`,"_blank");break;case"copy":navigator.clipboard.writeText(a),alert("Link copied to clipboard!")}};return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(d.A,{}),(0,t.jsx)("main",{className:"flex-grow pt-6 pb-16",children:(0,t.jsx)("div",{className:"container mx-auto px-4 md:px-0",children:a?(0,t.jsx)(y,{}):r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Error Loading Blog Post"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't load the blog post you're looking for. It may have been removed or there was a temporary issue."}),(0,t.jsx)(i.Link,{to:"/",className:"text-news-orange hover:underline",children:"Return to Homepage"})]}):s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(i.Link,{to:"/",className:"text-news-orange hover:underline mb-2 inline-block",children:"\xab Back to News"}),(0,t.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold leading-tight mb-4",children:s.title}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4 sm:mb-0",children:[(0,t.jsxs)(h.eu,{className:"h-10 w-10 mr-3",children:[(0,t.jsx)(h.BK,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alex",alt:"Author"}),(0,t.jsx)(h.q5,{children:"JP"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:"The Editor"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,t.jsx)(g.A,{size:14,className:"mr-1"}),new Date(s.created_at).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center text-gray-500 mr-4",children:[(0,t.jsx)(p.A,{size:18,className:"mr-1"}),(0,t.jsxs)("span",{children:[s.views," views"]})]}),(0,t.jsx)(u.E,{variant:"outline",className:"bg-gray-100",children:s.categories?.name||"Uncategorized"})]})]})]}),(0,t.jsx)("div",{className:"mb-10 rounded-lg overflow-hidden shadow-md",children:(0,t.jsx)("img",{src:s.image_url||"https://images.pexels.com/photos/1263349/pexels-photo-1263349.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:s.title,className:"w-full h-auto md:h-[500px] object-cover"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-8",children:[(0,t.jsx)("div",{className:"prose prose-lg max-w-none mb-8",dangerouslySetInnerHTML:{__html:s.content}}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 mt-12 border-t border-b py-4",children:[(0,t.jsx)("span",{className:"font-medium",children:"Share:"}),(0,t.jsx)(b.$,{variant:"outline",size:"icon",onClick:()=>x("facebook"),className:"rounded-full h-8 w-8",children:(0,t.jsx)(f.A,{size:16})}),(0,t.jsx)(b.$,{variant:"outline",size:"icon",onClick:()=>x("twitter"),className:"rounded-full h-8 w-8",children:(0,t.jsx)(j.A,{size:16})}),(0,t.jsx)(b.$,{variant:"outline",size:"icon",onClick:()=>x("copy"),className:"rounded-full h-8 w-8",children:(0,t.jsx)(v.A,{size:16})})]})]}),(0,t.jsx)("div",{className:"lg:col-span-4",children:(0,t.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg sticky top-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Related Articles"}),s&&(0,t.jsx)(N.A,{currentBlogId:s.id,categoryName:s.categories?.name||""})]})})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Blog Post Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),(0,t.jsx)(i.Link,{to:"/",className:"text-news-orange hover:underline",children:"Return to Homepage"})]})})}),(0,t.jsx)(m.A,{})]})};r()}catch(e){r(e)}})},68547:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.d(s,{E:()=>n});var t=a(8732);a(82015);var l=a(8938),i=a(24089),c=e([l,i]);[l,i]=c.then?(await c)():c;let o=(0,l.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...a}){return(0,t.jsx)("div",{className:(0,i.cn)(o({variant:s}),e),...a})}r()}catch(e){r(e)}})},75979:e=>{e.exports=import("tailwind-merge")},82015:e=>{e.exports=require("react")},92523:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.d(s,{E:()=>c});var t=a(8732),l=a(24089),i=e([l]);function c({className:e,...s}){return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",e),...s})}l=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},92549:e=>{e.exports=import("@radix-ui/react-avatar")},93939:e=>{e.exports=require("@supabase/supabase-js")},95657:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.d(s,{BK:()=>d,eu:()=>o,q5:()=>m});var t=a(8732),l=a(82015),i=a(92549),c=a(24089),n=e([i,c]);[i,c]=n.then?(await n)():n;let o=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(i.Root,{ref:a,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));o.displayName=i.Root.displayName;let d=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(i.Image,{ref:a,className:(0,c.cn)("aspect-square h-full w-full",e),...s}));d.displayName=i.Image.displayName;let m=l.forwardRef(({className:e,...s},a)=>(0,t.jsx)(i.Fallback,{ref:a,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));m.displayName=i.Fallback.displayName,r()}catch(e){r(e)}})}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[548,986,665],()=>a(2617));module.exports=r})();