(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{1668:(e,s,r)=>{"use strict";r.d(s,{CI:()=>i,Jv:()=>a,Rk:()=>o,dZ:()=>n,eD:()=>c,gb:()=>l});let t=r(4378).N,a=async(e,s)=>await t.auth.signInWithPassword({email:e,password:s}),i=async()=>await t.auth.signOut(),l=async e=>{try{let s=t.from("blogs").select("*");e&&(s=s.eq("status",e));let{data:r,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;if(!r)return[];let{data:i,error:l}=await t.from("categories").select("*");if(l)throw l;let n=(i||[]).reduce((e,s)=>(e[s.id]=s.name,e),{});return r.map(e=>({...e,categories:n[e.category_id]?{id:e.category_id,name:n[e.category_id]}:{id:e.category_id,name:"Uncategorized"}}))}catch(e){return console.error("Error fetching blogs:",e),[]}},n=async e=>{try{let{data:s,error:r}=await t.from("blogs").select("*").eq("id",e).single();if(r)throw r;return s}catch(e){return console.error("Error fetching blog:",e),null}},c=async e=>{let{data:s,error:r}=await t.rpc("increment_blog_view",{blog_id:e});return r&&console.error("Error incrementing view count:",r),{success:!r,data:s}},o=async e=>{let{data:s,error:r}=await t.from("user_roles").select("\n      role_id,\n      roles(*)\n    ").eq("user_id",e);return r?(console.error("Error fetching user roles:",r),[]):s.map(e=>e.roles)}},4378:(e,s,r)=>{"use strict";r.d(s,{N:()=>t});let t=(0,r(6879).UU)("https://rpxzfdofspoaogoxcmam.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJweHpmZG9mc3BvYW9nb3hjbWFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5Mjg5NTEsImV4cCI6MjA1OTUwNDk1MX0.VERnTR8G6jEKVFh-PIirgZnjy2TYTmBWDhy4Bb7KRVM",{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"blog-admin-auth"}})},6907:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(9241),a=r(9573);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}},8246:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(7876);r(4232);var a=r(8307),i=r(5972),l=r(1668),n=r(8305),c=r(1521),o=r(6526),d=r(4952);let u=()=>{let{categoryName:e}=(0,a.g)(),{data:s,isLoading:r,error:u}=(0,i.I)({queryKey:["categoryBlogs",e],queryFn:async()=>(await (0,l.gb)("published")).filter(s=>{var r;let t=null==(r=s.categories)?void 0:r.name;switch(null==e?void 0:e.toLowerCase()){case"trending":return"Trending"===t;case"latest":return!0;case"highlights":return"Weekly Highlights"===t;case"fun":return"Weekly Fun"===t;default:return!1}})});return u?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Error loading category"}),(0,t.jsx)("p",{className:"text-red-500",children:"Failed to load category content. Please try again later."})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:(e=>{switch(null==e?void 0:e.toLowerCase()){case"trending":return"Trending News";case"latest":return"Latest News";case"highlights":return"Weekly Highlights";case"fun":return"Weekly Fun News";default:return"Category"}})(e)}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?Array(6).fill(0).map((e,s)=>(0,t.jsxs)("div",{className:"article-card",children:[(0,t.jsx)(n.E,{className:"h-56 w-full"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(n.E,{className:"h-4 w-3/4 mb-2"}),(0,t.jsx)(n.E,{className:"h-4 w-1/2"})]})]},s)):s&&s.length>0?s.map(e=>(0,t.jsxs)(d.N_,{to:"/blog/".concat(e.id),className:"article-card",children:[(0,t.jsx)("div",{className:"h-56 overflow-hidden",children:(0,t.jsx)("img",{src:e.image_url||"https://images.pexels.com/photos/6238120/pexels-photo-6238120.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center text-gray-500 text-xs mb-2",children:[(0,t.jsx)(c.A,{size:14,className:"mr-1"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsx)("h3",{className:"font-bold text-lg mb-3",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4 truncate-2-lines",children:e.excerpt}),(0,t.jsxs)("div",{className:"flex items-center text-gray-500 text-xs",children:[(0,t.jsx)(o.A,{size:14,className:"mr-1"}),(0,t.jsxs)("span",{children:[e.views," views"]})]})]})]},e.id)):(0,t.jsx)("div",{className:"col-span-full text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No articles found in this category."})})})]})}},8305:(e,s,r)=>{"use strict";r.d(s,{E:()=>i});var t=r(7876),a=r(6907);function i(e){let{className:s,...r}=e;return(0,t.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...r})}},9278:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/CategoryPage",function(){return r(8246)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[796,307,561,952,803,636,593,792],()=>s(9278)),_N_E=e.O()}]);